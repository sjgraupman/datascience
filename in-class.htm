<html>
<head>
    <script src="https://d3js.org/d3.v4.min.js"></script>
</head>

<body>
    <svg height="400" width="400">
                  <!-- Visual elements are represented by tags, which have attributes -->
    <text id="CountryName" x="0" y="300" style="font-size: 48pt;"></text><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle><circle cx="0" cy="0" r="10"></circle></svg>
                
<script>

var svg = d3.select("svg");
svg.append("text")
.attr("id", "CountryName")
.attr("x", 0)
.attr("y", 300)
.style("font-size", "48pt");

var countryData;
var rawData, nestedData;

function parseLine (line) {
	return { Country: line["Country Name"], Variable: line["Series Name"], value: Number(line["2016 [YR2016]"]) };
}

// Some data from http://data.worldbank.org/data-catalog/country-profiles

d3.csv("CountryProfile.csv", parseLine, function (error, data) {
	rawData = data;

	nestedData = d3.nest()
	.key(function (d) { return d.Country; })
	.entries(data);

	countryData = nestedData.map(function (country) {
		var result = { Country: country.key };

		country.values.forEach(function (d) {
			if (d.Variable == "Population, total") {
				result.Population = d.value;
			}
			else if (d.Variable == "GDP (current US$)") {
				result.GDP = d.value;
			}
			else if (d.Variable == "Surface area (sq. km)") {
				result.Area = d.value;
			}
		});

		return result;
	});

	//countryData = countryData.filter(function (d) { return d.Population && d.GDP; });

	countryData.forEach(function (country) {
		svg.append("circle")
		.attr("cx", 0)
		.attr("cy", 0)
		.attr("r", 10)
		.on("mouseover", function () {
			svg.select("#CountryName").text(country.Country);
		});
	});
});

   

</script>    


</body>


</html>